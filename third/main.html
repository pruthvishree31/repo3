<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Music Player</title>

<style>
    body {
        margin: 0;
        padding: 0;
        background: #111;
        color: #fff;
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    .player {
        width: 350px;
        background: #222;
        padding: 25px;
        border-radius: 12px;
        text-align: center;
        box-shadow: 0 0 20px rgba(255,255,255,0.1);
    }

    h2 { margin: 10px 0; }
    h3 { margin: 5px 0; color: #aaa; }

    .controls {
        margin-top: 20px;
    }

    .controls button {
        background: #444;
        border: none;
        padding: 12px;
        margin: 5px;
        border-radius: 50%;
        cursor: pointer;
        color: #fff;
        font-size: 20px;
        width: 50px;
        height: 50px;
    }

    .controls button:hover { background: #666; }

    .progress-container {
        width: 100%;
        background: #555;
        height: 6px;
        border-radius: 3px;
        margin: 15px 0;
        cursor: pointer;
    }

    .progress {
        background: #1db954;
        height: 6px;
        width: 0;
        border-radius: 3px;
    }

    .volume-control {
        margin-top: 15px;
    }

    input[type=range] {
        width: 100%;
    }

    /* Playlist */
    .playlist {
        margin-top: 20px;
        text-align: left;
        max-height: 150px;
        overflow-y: auto;
    }

    .song {
        padding: 8px;
        background: #333;
        border-radius: 5px;
        margin-bottom: 6px;
        cursor: pointer;
    }

    .song:hover { background: #444; }
    .song.active { background: #1db954; }
</style>

</head>
<body>

<div class="player">

    <h2 id="title">Song Title</h2>
    <h3 id="artist">Artist</h3>

    <audio id="audio"></audio>

    <!-- PROGRESS BAR -->
    <div class="progress-container" id="progress-container">
        <div class="progress" id="progress"></div>
    </div>

    <span id="current-time">0:00</span> / 
    <span id="duration">0:00</span>

    <!-- CONTROLS -->
    <div class="controls">
        <button id="prev">⏮</button>
        <button id="play">▶</button>
        <button id="next">⏭</button>
    </div>

    <!-- VOLUME -->
    <div class="volume-control">
        <label>Volume:</label>
        <input type="range" id="volume" min="0" max="1" step="0.01" value="1">
    </div>

    <!-- PLAYLIST -->
    <div class="playlist" id="playlist"></div>

</div>

<script>
    const audio = document.getElementById("audio");
    const title = document.getElementById("title");
    const artist = document.getElementById("artist");
    const playBtn = document.getElementById("play");
    const nextBtn = document.getElementById("next");
    const prevBtn = document.getElementById("prev");
    const progress = document.getElementById("progress");
    const progressContainer = document.getElementById("progress-container");
    const volumeSlider = document.getElementById("volume");
    const playlistDiv = document.getElementById("playlist");
    const currentTimeEl = document.getElementById("current-time");
    const durationEl = document.getElementById("duration");

    // SONG LIST
    const songs = [
        {
            title: "Dreams",
            artist: "SoundHelix",
            src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
        },
        {
            title: "Sunset",
            artist: "SoundHelix",
            src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"
        },
        {
            title: "Ocean Waves",
            artist: "SoundHelix",
            src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"
        }
    ];

    let songIndex = 0;

    // LOAD SONG
    function loadSong(i) {
        const s = songs[i];
        title.textContent = s.title;
        artist.textContent = s.artist;
        audio.src = s.src;

        document.querySelectorAll(".song").forEach(el => el.classList.remove("active"));
        document.getElementById("song-" + i).classList.add("active");
    }

    // PLAY
    function playSong() {
        audio.play();
        playBtn.textContent = "⏸";
    }

    // PAUSE
    function pauseSong() {
        audio.pause();
        playBtn.textContent = "▶";
    }

    playBtn.addEventListener("click", () => {
        audio.paused ? playSong() : pauseSong();
    });

    // NEXT
    nextBtn.addEventListener("click", () => {
        songIndex = (songIndex + 1) % songs.length;
        loadSong(songIndex);
        playSong();
    });

    // PREVIOUS
    prevBtn.addEventListener("click", () => {
        songIndex = (songIndex - 1 + songs.length) % songs.length;
        loadSong(songIndex);
        playSong();
    });

    // PROGRESS BAR UPDATE
    audio.addEventListener("timeupdate", () => {
        const progressPercent = (audio.currentTime / audio.duration) * 100;
        progress.style.width = progressPercent + "%";

        let curMinutes = Math.floor(audio.currentTime / 60);
        let curSeconds = Math.floor(audio.currentTime % 60);
        if (curSeconds < 10) curSeconds = "0" + curSeconds;
        currentTimeEl.textContent = curMinutes + ":" + curSeconds;

        let durMinutes = Math.floor(audio.duration / 60);
        let durSeconds = Math.floor(audio.duration % 60);
        if (durSeconds < 10) durSeconds = "0" + durSeconds;
        durationEl.textContent = durMinutes + ":" + durSeconds;
    });

    // CLICK ON PROGRESS BAR
    progressContainer.addEventListener("click", (e) => {
        const width = progressContainer.clientWidth;
        const clickX = e.offsetX;
        audio.currentTime = (clickX / width) * audio.duration;
    });

    // VOLUME
    volumeSlider.addEventListener("input", () => {
        audio.volume = volumeSlider.value;
    });

    // AUTOPLAY (when song ends → next)
    audio.addEventListener("ended", () => {
        nextBtn.click();
    });

    // BUILD PLAYLIST UI
    songs.forEach((song, i) => {
        const div = document.createElement("div");
        div.className = "song";
        div.id = "song-" + i;
        div.textContent = song.title + " - " + song.artist;

        div.addEventListener("click", () => {
            songIndex = i;
            loadSong(i);
            playSong();
        });

        playlistDiv.appendChild(div);
    });

    // INITIAL LOAD
    loadSong(songIndex);
</script>

</body>
</html>